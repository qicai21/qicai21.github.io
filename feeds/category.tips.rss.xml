<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>A Pelican Blog - Tips</title><link>https://www.qicai21.github.io/</link><description></description><lastBuildDate>Thu, 07 Jan 2021 10:00:00 +0000</lastBuildDate><item><title>初识linux系统文件</title><link>https://www.qicai21.github.io/introduce_linux_file_system.html</link><description>&lt;blockquote&gt;
&lt;p&gt;经常性的搞不清楚linux下文件树,简单总结.&lt;/p&gt;
&lt;p&gt;参阅:
&lt;a href="https://blog.csdn.net/weixin_44400573/article/details/93460757"&gt;Ubuntu用户权限设置&lt;/a&gt;
&lt;a href="https://www.jianshu.com/p/fe8da5d08e16"&gt;史上最全Linux目录结构说明&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;不用碰,也碰不起的&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;boot&lt;/code&gt;  drwxr-xr-x  系统&lt;/li&gt;
&lt;li&gt;&lt;code&gt;root&lt;/code&gt;  drwx------  root专有&lt;/li&gt;
&lt;li&gt;&lt;code&gt;run&lt;/code&gt;   drwxr-xr-x  系统自运行的服务&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dev&lt;/code&gt;   drwxr-xr-x  硬件配置,驱动文件&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;不用知道是什么,总之不用碰也碰不到的&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;opt&lt;/code&gt;   drwxr-xr-x  chrome, firefox这些大型文件通常在这里&lt;/li&gt;
&lt;li&gt;&lt;code&gt;proc&lt;/code&gt;  dr-xr-xr-x&lt;/li&gt;
&lt;li&gt;&lt;code&gt;srv&lt;/code&gt;   drwxr-xr-x&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sys&lt;/code&gt;   dr-xr-xr-x&lt;/li&gt;
&lt;li&gt;&lt;code&gt;var&lt;/code&gt;   drwxr-xr-x&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;没啥看的,你都知道&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;home&lt;/code&gt;  drwxr-xr-x  所有用户的集合,的确像个家.如同win下的users&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tmp&lt;/code&gt;   drwxrwxrwt  临时文件,会被自动清理, 比如浏览器缓存文件&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;两个引用过来的,相当于汇总&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;bin&lt;/code&gt; -&amp;gt; usr/bin  lrwxrwxrwx    可直接执行, e.g.: pwd, ls&lt;/li&gt;
&lt;li&gt;&lt;code&gt;lib&lt;/code&gt; -&amp;gt; usr/lib  lrwxrwxrwx    不可直接执行依赖库 e.g.: python3&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;重点看这里了&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;etc&lt;/code&gt;   drwxr-xr-x   系统全局的配置文件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;usr&lt;/code&gt;   drwxr-xr-x   包含了命令库文件和在通常操作中不会修改的文件&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;usr下需要了解这些&lt;/h2&gt;
&lt;p&gt;usr不是user的缩写,而是"User System Resources",即面向用户使用的系统资源.
所以她包含了命令库文件和在通常操作中不会修改的文件,其地位类似Windows上面
的”Program Files”.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/usr/local&lt;/code&gt;  安装本地程序的一般默认路径&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/usr/share&lt;/code&gt;  存放共享文件的目录&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/usr/lib&lt;/code&gt;    就是python3, apt, dpkg这些了&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/usr/bin&lt;/code&gt;    就是pwd, ls这些了  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;/usr/sbin&lt;/code&gt;   给超级用户root留的专属命令&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;配置文件放在哪?&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;~/.config&lt;/code&gt;   执行程序的配置文件都放在这里.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;~/.*rc&lt;/code&gt;      各种程序的配置文件: e.g.: &lt;code&gt;.bashrc&lt;/code&gt;, &lt;code&gt;.vimrc&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;自己写的&amp;amp;下载的程序安装到哪?&lt;/h2&gt;
&lt;p&gt;比如neovim的插件最好各个用户能共享(虽然通常只有你一个用户,但理论上1即所有)
所以其恰当的位置是:&lt;code&gt;~/.local/share&lt;/code&gt;, 事实上可以发现很多认识的app都装在这里.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Burgan</dc:creator><pubDate>Thu, 07 Jan 2021 10:00:00 +0000</pubDate><guid isPermaLink="false">tag:www.qicai21.github.io,2021-01-07:/introduce_linux_file_system.html</guid><category>Tips</category><category>linux</category><category>ubuntu</category></item><item><title>一条命令实现pip更新全部包</title><link>https://www.qicai21.github.io/pip_upgrade_all_pkg.html</link><description>&lt;p&gt;&lt;strong&gt;通过下边的命令可以更新出全部pip包,但因为有破坏不同包的依赖性问题,所以谨慎使用.&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ pip freeze --local &lt;span class="p"&gt;|&lt;/span&gt; grep -v &lt;span class="s1"&gt;&amp;#39;^\-e&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; cut -d &lt;span class="o"&gt;=&lt;/span&gt; -f &lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="p"&gt;|&lt;/span&gt; xargs pip install -U
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Burgan</dc:creator><pubDate>Tue, 29 May 2018 00:00:00 +0000</pubDate><guid isPermaLink="false">tag:www.qicai21.github.io,2018-05-29:/pip_upgrade_all_pkg.html</guid><category>Tips</category><category>ubuntu</category><category>python3</category></item><item><title>Ubuntu: TrackPoint setting</title><link>https://www.qicai21.github.io/trakpoint_drive_on_ubuntu.html</link><description>&lt;h2&gt;using xinput command&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;what's xinput?&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;xinput  is a utility to list available input devices,
query information about a device and change input device settings.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://manpages.ubuntu.com/manpages/zesty/man1/xinput.1.html"&gt;more info about xinput&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Change configure of TrackPoint&lt;/h2&gt;
&lt;p&gt;Get Device ID of TrackPoint&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;$xinput&lt;/span&gt; list &lt;span class="p"&gt;|&lt;/span&gt; grep TrackPoint
&lt;span class="c1"&gt;# get output as follows&lt;/span&gt;
TPPS/2 IBM TrackPoint    &lt;span class="nv"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;14&lt;/span&gt;    &lt;span class="o"&gt;[&lt;/span&gt;slave  pointer  &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="o"&gt;)]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Then get setting value by this ID：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ xinput list-props &lt;span class="m"&gt;14&lt;/span&gt;

Device &lt;span class="s1"&gt;&amp;#39;TPPS/2 IBM TrackPoint&amp;#39;&lt;/span&gt;:
Device Enabled &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;137&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;:   &lt;span class="m"&gt;1&lt;/span&gt;
Coordinate Transformation Matrix &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;139&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: &lt;span class="m"&gt;1&lt;/span&gt;.000000, &lt;span class="m"&gt;0&lt;/span&gt;.000000, &lt;span class="m"&gt;0&lt;/span&gt;.000000, &lt;span class="m"&gt;0&lt;/span&gt;.000000, &lt;span class="m"&gt;1&lt;/span&gt;.000000, &lt;span class="m"&gt;0&lt;/span&gt;.000000, &lt;span class="m"&gt;0&lt;/span&gt;.000000, &lt;span class="m"&gt;0&lt;/span&gt;.000000, &lt;span class="m"&gt;1&lt;/span&gt;.000000
Device Accel Profile &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;263&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: &lt;span class="m"&gt;0&lt;/span&gt;
Device Accel Constant Deceleration &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;264&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;:   &lt;span class="m"&gt;1&lt;/span&gt;.000000
Device Accel Adaptive Deceleration &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;265&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;:   &lt;span class="m"&gt;1&lt;/span&gt;.000000
...
&lt;span class="c1"&gt;# the value in row 5 and 6, it output as：&lt;/span&gt;
Device Accel Constant Deceleration &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;264&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: &lt;span class="m"&gt;1&lt;/span&gt;.000000 
Device Accel Adaptive Deceleration &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;265&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: &lt;span class="m"&gt;1&lt;/span&gt;.000000
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;其中括号里的整数就是该项设置的ID，后面的小数是该项设置的参数值。
ID为264（我的机器）代表的是小红点的固定阻力值(Constant Deceleration)，
取值范围是 [0,1]；ID为265代表的是随力度减弱时阻力增加的速度，
即小红点停下来的速度，取值范围是 [1,?]。一般来说设置264就够了.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;reset the value:&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;$xinput&lt;/span&gt; set-prop &lt;span class="m"&gt;14&lt;/span&gt; &lt;span class="m"&gt;264&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;.40
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;把下边这条命令加入到 ~/.xprofile&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="ch"&gt;#!/bin/bash&lt;/span&gt;
&lt;span class="c1"&gt;# obtain TrackPoint ID from xinput list&lt;/span&gt;
&lt;span class="nv"&gt;TP_ID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;xinput list &lt;span class="p"&gt;|&lt;/span&gt; grep TrackPoint &lt;span class="p"&gt;|&lt;/span&gt; cut -f &lt;span class="m"&gt;2&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; grep -Eo &lt;span class="s1"&gt;&amp;#39;[0-9]{1,}&amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -n &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$TP_ID&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
    &lt;span class="c1"&gt;# obtain properties from xinput list-props &amp;quot;$TP_ID&amp;quot;&lt;/span&gt;
    &lt;span class="nv"&gt;AS_ID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;xinput list-props &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$TP_ID&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="s1"&gt;&amp;#39;Accel Constant Deceleration (&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; cut -f &lt;span class="m"&gt;2&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; grep -Eo &lt;span class="s1"&gt;&amp;#39;[0-9]{1,}&amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;
    &lt;span class="c1"&gt;# set the speed you want&lt;/span&gt;
    &lt;span class="k"&gt;$(&lt;/span&gt;xinput set-prop &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$TP_ID&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$AS_ID&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;.50 &lt;span class="k"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;PS: 妈蛋,居然附赠了我一堆shell 脚本的学习工作, 最后一行命令她给写成了:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;$(&lt;/span&gt;xinput &lt;span class="nb"&gt;set&lt;/span&gt; -prop &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$TP_ID&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$AS_ID&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;.25&lt;span class="k"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;it will be not implemented by bash, 还得自己改.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Burgan</dc:creator><pubDate>Fri, 07 Apr 2017 00:00:00 +0000</pubDate><guid isPermaLink="false">tag:www.qicai21.github.io,2017-04-07:/trakpoint_drive_on_ubuntu.html</guid><category>Tips</category><category>ubuntu</category><category>thinkpad_trackpoint</category></item></channel></rss>